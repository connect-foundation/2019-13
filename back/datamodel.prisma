type User {
  id: ID!  @id
  name: String!
  picture: String!
  email: String! @unique
  projects: [project!]! @relation(name: "ProjectsByUser")
  authes: [project_auth!]! @relation(name : "AuthesByUser")
}

type project {
  id: ID!  @id
  title: String!
  description: String!
  like: Int!
  private: Boolean!
  owner:User! @relation(link : TABLE, name: "ProjectsByUser")
  blocks:[block!]! @relation(name: "BlocksByProject")
  authes: [project_auth!]! @relation(name: "AuthesByProject")
}

type project_auth{
  id: ID! @id
  project:project! @relation(link : TABLE, name:"AuthesByProject")
  user:User! @relation(link : TABLE, name: "AuthesByUser")
}

type block{
  id:ID! @id
  position_X: Float
  position_Y: Float
  order: Int!
  project:project! @relation(link : TABLE, name:"BlocksByProject")
  parent:block @relation(link: TABLE, name:"ParentBlock")
  type: block_type! @relation(link: TABLE, name:"TypeByBlock")
}

type block_category{
  id:ID! @id
  text: String @unique
  color: String
  block_types: [block_type!]! @relation(name : "TypeByCategory")
}

type block_type{
  id:ID! @id
  name: String @unique
  shape: String
  content: String
  block: [block!]! @relation(name: "TypeByBlock")
  block_category: block_category! @relation(link: TABLE, name : "TypeByCategory")
}
